# add variables for Wlike below

muon_pt: Muon_pt[0]: 35,25,60; XTitle="Muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

nmuon: nMuon: 4,-0.5,3.5 ; XTitle="number of muons", Legend='TR', IncludeOverflows=True

muon_eta: Muon_eta[0]: 48,-2.4,2.4; XTitle="Muon #eta", Legend='TC', IncludeOverflows=True

mt_ChsMET: mt_2(Muon_pt[0],Muon_phi[0],ChsMET_pt,ChsMET_phi): 50,20,120; XTitle="m_{T}(#mu\,ChsMET) (GeV)", Legend='TC', IncludeOverflows=True

MET_pt: MET_pt: 40,0,80; XTitle="MET (GeV)", Legend='TC', IncludeOverflows=True

ChsMET_pt: ChsMET_pt: 40,0,80; XTitle="ChsMET (GeV)", Legend='TC', IncludeOverflows=True


mt_MET: mt_2(Muon_pt[0],Muon_phi[0],MET_pt,MET_phi): 50,20,120; XTitle="m_{T}(#mu\,MET) (GeV)", Legend='TC', IncludeOverflows=True

mt_DeepMetRespTune: mt_2(Muon_pt[0],Muon_phi[0],DeepMETResponseTune_pt,DeepMETResponseTune_phi): 50,20,120; XTitle="m_{T}(#mu\,DeepMETResponseTune) (GeV)", Legend='TC', IncludeOverflows=True

mt_DeepMetResoTune: mt_2(Muon_pt[0],Muon_phi[0],DeepMETResolutionTune_pt,DeepMETResolutionTune_phi): 50,20,120; XTitle="m_{T}(#mu\,DeepMETResolutionTune) (GeV)", Legend='TC', IncludeOverflows=True

muon_pt_eta: Muon_pt[0]\:Muon_eta[0]: 48,-2.4,2.4,34,26,60 ; XTitle='muon #eta', YTitle='muon p_{T} (GeV)', Legend='TR'

PV_z: PV_z: 100,-20,20; XTitle="Primary vertex z (cm)", Legend='TC', IncludeOverflows=True

OtherPV_z: OtherPV_z: 100,-20,20; XTitle="Other primary vertex z (cm)", Legend='TC', IncludeOverflows=True


## W like variables
muon_pt_wlike: returnChargeVal(Muon_pt[0],Muon_charge[0],Muon_pt[1],Muon_charge[1],event): 30,25,55; XTitle="Muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

muon_eta_wlike: returnChargeVal(Muon_eta[0],Muon_charge[0],Muon_eta[1],Muon_charge[1],event): 48,-2.4,2.4; XTitle="Muon #eta", Legend='TC', IncludeOverflows=True

muon_eta_wlike_rebin: returnChargeVal(Muon_eta[0],Muon_charge[0],Muon_eta[1],Muon_charge[1],event): 24,-2.4,2.4; XTitle="Muon #eta", Legend='TC', IncludeOverflows=True

muon_pt_eta_wlike: returnChargeVal(Muon_pt[0],Muon_charge[0],Muon_pt[1],Muon_charge[1],event)\:returnChargeVal(Muon_eta[0],Muon_charge[0],Muon_eta[1],Muon_charge[1],event): 24,-2.4,2.4,29,26,55 ; XTitle='muon #eta', YTitle='muon p_{T} (GeV)', Legend='TR'


mt_wlike_ChsMET: mt_wlike(Muon_pt[0],Muon_phi[0],Muon_charge[0],Muon_pt[1],Muon_phi[1],Muon_charge[1],ChsMET_pt,ChsMET_phi,event): 40,40,120; XTitle="W-like m_{T}(#mu\,ChsMET) (GeV)", Legend='TC', IncludeOverflows=True

zmass  : mass_2(Muon_pt[0],Muon_eta[0],Muon_phi[0],0.1057128,Muon_pt[1],Muon_eta[1],Muon_phi[1],0.1057128): 60,60,120; XTitle="reco Z mass (GeV)", Legend='TC', IncludeOverflows=True

zpt : pt_2(Muon_pt[0],Muon_phi[0],Muon_pt[1],Muon_phi[1]): 50,0,100 ; XTitle="reco Z p_{T} (GeV)", Legend='TR'

zy : rapidity_2(Muon_pt[0],Muon_eta[0],Muon_phi[0],0.1057128,Muon_pt[1],Muon_eta[1],Muon_phi[1],0.1057128): 50,-2.5,2.5 ; XTitle="reco Z rapidity", Legend='TR'

nJet : nJet: 6,-0.5,5.5 ; XTitle="number of jets", Legend='TR'


muon_pt_ss: Muon_pt: 35,25,60; XTitle="Muon p_{T} (GeV)", Legend='TR', IncludeOverflows=True

muon_eta_ss: Muon_eta: 48,-2.4,2.4; XTitle="Muon #eta", Legend='TC', IncludeOverflows=True


deltaRgenMu: deltaR(GenPart_eta[GenPart_preFSRLepIdx1],GenPart_phi[GenPart_preFSRLepIdx1],GenPart_eta[GenPart_preFSRLepIdx2],GenPart_phi[GenPart_preFSRLepIdx2]): 80,0,4; XTitle="#DeltaR(#mu\,#mu) (dressed gen muons)", Legend='TC', IncludeOverflows=True

# eta and pt of gen muon from Z that was not reconstructed when selecting events in W phase space

genMuFailReco_eta: varGenLepFailReco(Muon_pdgId[0], GenPart_pdgId[GenPart_preFSRLepIdx1], GenPart_eta[GenPart_preFSRLepIdx1], GenPart_eta[GenPart_preFSRLepIdx2]): 80,-4.0,4.0; XTitle="gen muon #eta (failed reco)", Legend='TC', IncludeOverflows=True

genMuFailReco_pt: varGenLepFailReco(Muon_pdgId[0], GenPart_pdgId[GenPart_preFSRLepIdx1], GenPart_pt[GenPart_preFSRLepIdx1], GenPart_pt[GenPart_preFSRLepIdx2]): 35,20,80; XTitle="gen muon p_{T} (GeV) (failed reco)", Legend='TC', IncludeOverflows=True

genMuFailReco_pt_eta: varGenLepFailReco(Muon_pdgId[0], GenPart_pdgId[GenPart_preFSRLepIdx1], GenPart_pt[GenPart_preFSRLepIdx1], GenPart_pt[GenPart_preFSRLepIdx2])\:varGenLepFailReco(Muon_pdgId[0], GenPart_pdgId[GenPart_preFSRLepIdx1], GenPart_eta[GenPart_preFSRLepIdx1], GenPart_eta[GenPart_preFSRLepIdx2]) : 80,-4.0,4.0,35,20,80; XTitle="gen muon #eta (failed reco)", YTitle="gen muon p_{T} (GeV) (failed reco)", Legend='TC', IncludeOverflows=True

###
# for PU profile

Pileup_nTrueInt: Pileup_nTrueInt: 100,0,100; XTitle="Pileup_nTrueInt", Legend='TC', IncludeOverflows=False

PV_npvsGood: PV_npvsGood: 80,0,80; XTitle="PV_npvsGood", Legend='TC', IncludeOverflows=False

####
# for vertex study

dzVertex_gen_primary__Wpt: (GenVtx_z-PV_z)\:pt_2(GenPart_pt[GenPart_preFSRLepIdx1],GenPart_phi[GenPart_preFSRLepIdx1],GenPart_pt[GenPart_preFSRLepIdx2],GenPart_phi[GenPart_preFSRLepIdx2]) : 50,0,100,200,-1.0,1.0; YTitle="vertex #Deltaz (gen-reco) [cm]",XTitle="W-p_{T} (dressed) [GeV]", Legend='TC', IncludeOverflows=False

dzVertex_gen_primary__dressedLepPt: (GenVtx_z-PV_z)\:if3(fabs(GenPart_pdgId[GenPart_preFSRLepIdx1])==13,GenPart_pt[GenPart_preFSRLepIdx1],GenPart_pt[GenPart_preFSRLepIdx2]): 74,26,100,200,-1.0,1.0; YTitle="vertex #Deltaz (gen-reco) [cm]",XTitle=" leading dressed lepton p_{T} [GeV]", Legend='TC', IncludeOverflows=False

####
# some gen vars
vpt : Vpt_preFSR: [0., 4., 8., 12., 16., 20., 24., 28., 32., 40., 60., 100., 200.] ; XTitle="PreFSR boson p_{T} (GeV)", Legend='TR'
vrap : fabs(Vrap_preFSR): [0, 0.4, 0.8, 1.2, 1.6, 2.0, 2.4, 3.0, 6.0] ; XTitle="PreFSR boson rapidity", Legend='TR'
vpt_vrap: Vpt_preFSR\:Vrap_preFSR: 50,-5,5,50,0,100 ; XTitle='PreFSR boson rapidity', YTitle='PreFSR boson p_{T} (GeV)', Legend='TR'
